<script src="node_modules/js-yaml/dist/js-yaml.min.js"></script>
<script src="node_modules/js-yaml/dist/esprima.js"></script>
<script src="js/jquery-1.11.2.min.js"></script>



<h1 id="userEmail">Placeholder</h1>

Hello World

<table>
</table>

<script type="text/javascript">


xmlhttp=new XMLHttpRequest();
xmlhttp.open("GET","hierarchy.yaml",false);
xmlhttp.send();

console.log(xmlhttp.responseText)

var doc = jsyaml.load(xmlhttp.responseText);
console.log(doc)

$(document).ready(function () {
    var json = doc
    var tr;
    var hierarchy = json[1]['Topic Hierarchy']

    var basic_width = 450

    var topicsForChildren = function(object, tr){
        //tr = $('<tr/>');
        if (typeof object === 'string') tr.append("<td>" + object + "</td>");
        moreChildren = []
        for(var k in object){
            tr.append("<td>" + k + "</td>");
            tr2 = $('<tr/>');
            for (var i=0; i<object[k].length; i++){
                topicsForChildren(object[k][i], tr2)
            }
            $('table').append(tr);
        }
    }

    tr = $('<tr/>');
    for(var i=0; i<hierarchy.length; i++){
        topicsForChildren(hierarchy[i], tr)
    }
    $('table').append(tr);

});

document.getElementById("userEmail").innerHTML = doc.greeting;

</script>
